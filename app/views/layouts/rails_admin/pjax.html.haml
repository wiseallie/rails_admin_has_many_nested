:javascript
  $('.nav.nav-pills li.active').removeClass('active');
  $('.nav.nav-pills li[data-model="#{@abstract_model.to_param}"]').addClass('active');

%title= "#{@abstract_model.try(:pretty_name) || @page_name} | #{[_get_plugin_name[0] || 'Rails', _get_plugin_name[1] || 'Admin'].join(' ')}"
- unless params[:pjax_nested]
  .page-header
    %h1= @page_name
- flash && flash.each do |key, value|
  .alert.alert-dismissible{class: flash_alert_class(key)}
    %button.close{type: 'button', :'data-dismiss' => "alert"} &times;
    = value
- unless params[:pjax_nested]
  - if @parent_object
    = parent_breadcrumb
    %ul.nav.nav-tabs
      = menu_for((@parent_abstract_model ? (@parent_object.try(:persisted?) ? :member : :collection) : :root), @parent_abstract_model, @parent_object)
      = menu_for_associations((@parent_abstract_model ? (@parent_object.try(:persisted?) ? :member : :collection) : :root), @parent_abstract_model, @parent_object)
  - else
    = breadcrumb

%ul.nav.nav-tabs
  - if @parent_object
    = nested_menu_for(@nested_object.try(:persisted?) ? :has_many_nested_member : :has_many_nested_collection, @parent_abstract_model, @parent_object, @association_name, @nested_abstract_model, @nested_object)
    = nested_menu_for_associations(@nested_object.try(:persisted?) ? :has_many_nested_member : :has_many_nested_collection, @nested_abstract_model, @nested_object)
  - else
    = menu_for((@abstract_model ? (@object.try(:persisted?) ? :member : :collection) : :root), @abstract_model, @object)
    = menu_for_associations((@abstract_model ? (@object.try(:persisted?) ? :member : :collection) : :root), @abstract_model, @object)
  = content_for :contextual_tabs

- if params[:pjax_nested]
  %div.pjax-nested-container{:'data-pjax-container' => true}
    = yield
- else
  = yield
